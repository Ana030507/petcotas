<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8" />
  <title>Registro</title>
  <link rel="stylesheet" th:href="@{/css/login.css}" />

  <script>
    function toggleAdminField() {
      const adminField = document.getElementById('admin-code-row');
      const chefField = document.getElementById('chef-code-row');
      // Oculta el otro si estaba abierto
      chefField.style.display = 'none';
      adminField.style.display =
        adminField.style.display === 'none' || adminField.style.display === ''
          ? 'block'
          : 'none';
    }

    function toggleChefField() {
      const chefField = document.getElementById('chef-code-row');
      const adminField = document.getElementById('admin-code-row');
      // Oculta el otro si estaba abierto
      adminField.style.display = 'none';
      chefField.style.display =
        chefField.style.display === 'none' || chefField.style.display === ''
          ? 'block'
          : 'none';
    }
  </script>
</head>
<body>
  <!-- üîπ Fondo -->
  <div class="background"></div>

  <div class="login-box">
    <h1>Crear cuenta</h1>

    <form th:action="@{/register}" method="post" autocomplete="off">
      <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />

      <input type="text" name="username" placeholder="Usuario" required />
      <input type="password" name="password" placeholder="Contrase√±a" required />

      <div class="role-buttons">
        <button type="button" onclick="toggleAdminField()" class="btn-admin">
          Registrarse como admin
        </button>
        <button type="button" onclick="toggleChefField()" class="btn-chef">
          Registrarse como chef
        </button>
      </div>

      <!-- Campo para clave de admin -->
      <div id="admin-code-row" style="display:none; margin-top:8px;">
        <input type="text" name="adminCodeInput" placeholder="Clave especial de admin" />
      </div>

      <!-- Campo para clave de chef -->
      <div id="chef-code-row" style="display:none; margin-top:8px;">
        <input type="text" name="chefCodeInput" placeholder="Clave especial de chef" />
      </div>

      <button type="submit" class="btn-main">Crear cuenta</button>
    </form>

    <p th:if="${error}" th:text="${error}" style="color:red;"></p>
    <p style="margin-top:10px;">
      <a th:href="@{/login}" class="return-link">Volver al inicio de sesi√≥n</a>
    </p>
  </div>
</body>
</html>



